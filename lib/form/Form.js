"use strict";"use client";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"List",{enumerable:true,get:function get(){return _rcFieldForm.List;}});exports.default=void 0;Object.defineProperty(exports,"useForm",{enumerable:true,get:function get(){return _useForm3.default;}});Object.defineProperty(exports,"useWatch",{enumerable:true,get:function get(){return _rcFieldForm.useWatch;}});var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _rcFieldForm=_interopRequireWildcard(require("rc-field-form"));var _react=_interopRequireWildcard(require("react"));var React=_react;var _list=_interopRequireDefault(require("../list"));var _useLocale3=_interopRequireDefault(require("../locale-provider/useLocale"));var _DisabledContext=_interopRequireWildcard(require("../provider/DisabledContext"));var _context=require("./context");var _useForm3=_interopRequireDefault(require("./hooks/useForm"));var _useFormWarning=_interopRequireDefault(require("./hooks/useFormWarning"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap(),t=new WeakMap();return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r;})(e);}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u];}return n.default=e,t&&t.set(e,n),n;}var __rest=void 0&&(void 0).__rest||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))t[p[i]]=s[p[i]];}return t;};var InternalForm=function InternalForm(props,ref){var contextDisabled=React.useContext(_DisabledContext.default);var _props$disabled=props.disabled,disabled=_props$disabled===void 0?contextDisabled:_props$disabled,form=props.form,labelStyle=props.labelStyle,_props$layout=props.layout,layout=_props$layout===void 0?'horizontal':_props$layout,requiredMark=props.requiredMark,name=props.name,feedbackIcons=props.feedbackIcons,style=props.style,restFormProps=__rest(props,["disabled","form","labelStyle","layout","requiredMark","name","feedbackIcons","style"]);var _useLocale=(0,_useLocale3.default)('Form'),_useLocale2=(0,_slicedToArray2.default)(_useLocale,1),locale=_useLocale2[0];if(__DEV__){(0,_useFormWarning.default)(props);}var mergedRequiredMark=(0,_react.useMemo)(function(){if(requiredMark!==undefined){return requiredMark;}return true;},[requiredMark]);var _useForm=(0,_useForm3.default)(form),_useForm2=(0,_slicedToArray2.default)(_useForm,1),wrapForm=_useForm2[0];var __INTERNAL__=wrapForm.__INTERNAL__;__INTERNAL__.name=name;var formContextValue=(0,_react.useMemo)(function(){return{name:name,labelStyle:labelStyle,layout:layout,requiredMark:mergedRequiredMark,itemRef:__INTERNAL__.itemRef,form:wrapForm,feedbackIcons:feedbackIcons};},[name,layout,mergedRequiredMark,wrapForm,feedbackIcons]);React.useImperativeHandle(ref,function(){return wrapForm;});return React.createElement(_DisabledContext.DisabledContextProvider,{disabled:disabled},React.createElement(_context.FormProvider,{validateMessages:locale.defaultValidateMessages},React.createElement(_context.FormContext.Provider,{value:formContextValue},React.createElement(_rcFieldForm.default,(0,_extends2.default)({id:name,component:_list.default,style:style},restFormProps,{name:name,form:wrapForm})))));};var Form=React.forwardRef(InternalForm);Form.displayName='Form';var _default=exports.default=Form;